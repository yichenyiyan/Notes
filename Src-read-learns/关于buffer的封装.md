# yan note about buffer

关于 buffer(缓冲区) 类的封装

1、首先是数据类型：一般是常用的数据类型（int、char等），当然如果想比较通用可以使用模板

2、其次是存储‘容器’：一般是使用STL中的类模板（vector、string等）可以是直接使用指针直接指向内存空间（这种实现起来比使用string/vector等容器复杂些且较容易出错导致程序崩溃），推荐使用STL进行封装

3、缓冲区容量的维护（通常使用一个整形数据表示容量、如果这个缓冲区是给多线程访问的，建议使用原子变量atomic）

4、读、写索引的记录（通常使用一个整形数据表示读、写索引、如果这个缓冲区是给多线程访问的，建议使用原子变量atomic）

5、其次是一些常用方法：尾插、（当前）偏移量、剩余空间大小、扩容、返回缓冲区首地址等
